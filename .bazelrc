build --toolchain_resolution_debug=.*

# Non hermetic
build --crosstool_top=@bazel_tools//tools/cpp:toolchain
build --host_crosstool_top=@bazel_tools//tools/cpp:toolchain

# Hermetic
build:hermetic --crosstool_top=//cc_toolchain:clang_suite
build:hermetic --host_crosstool_top=@bazel_tools//tools/cpp:toolchain
build:hermetic --compiler=linux_clang

# aarch64
build:aarch64 --config=hermetic
build:aarch64 --cpu=aarch64                  # Use --cpu as a differentiator for cc_toolchain_suite.
build:aarch64 --host_platform=//config:linux_aarch64_platform

# x86_64
build:x86_64 --config=hermetic
build:x86_64 --cpu=x86_64                  # Use --cpu as a differentiator for cc_toolchain_suite.
build:x86_64 --host_platform=//config:linux_x86_64_platform

##########
# Tests
# Non hermetic
test --crosstool_top=@bazel_tools//tools/cpp:toolchain
test --host_crosstool_top=@bazel_tools//tools/cpp:toolchain

# Hermetic
test:hermetic --crosstool_top=//cc_toolchain:clang_suite
test:hermetic --host_crosstool_top=@bazel_tools//tools/cpp:toolchain
test:hermetic --compiler=linux_clang

# aarch64
test:aarch64 --config=hermetic
test:aarch64 --cpu=aarch64                  # Use --cpu as a differentiator for cc_toolchain_suite.
test:aarch64 --host_platform=//config:linux_aarch64_platform

# x86_64
test:x86_64 --config=hermetic
test:x86_64 --cpu=x86_64                  # Use --cpu as a differentiator for cc_toolchain_suite.
test:x86_64 --host_platform=//config:linux_x86_64_platform